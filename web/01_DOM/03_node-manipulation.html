<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>요소 정보 확인 및 텍스트 조작</title>
</head>
<body>
<h1>요소 정보 확인 및 텍스트 조작</h1>
<pre>
    우리가 선택한 DOM 요소가 어떤 종류인지 확인하고,
    가장 중요한 작업인 '요소 안의 텍스트'를 읽고 쓰는 방법을 배워봅니다.
    </pre>

<hr>

<h3>1. 요소의 종류 확인하기 (참고용)</h3>
<pre>
    모든 DOM 노드는 자신의 종류(요소 노드, 텍스트 노드 등)와 이름을 가지고 있습니다.
    이것을 직접 쓸 일은 거의 없지만, 자바스크립트가 HTML을 어떻게 바라보는지 이해하는 데 도움이 됩니다.
    </pre>

<div id="info-area">div 안의 텍스트</div>

<script>
    const $infoArea = document.getElementById('info-area');
    const $textInside = $infoArea.firstChild;

    // .nodeType: 노드의 종류를 숫자로 알려준다. (1: 요소, 3: 텍스트, 9: 문서)
    console.log($infoArea.nodeType);        // 1 요소노드
    console.log($textInside.nodeType);      // 3 텍스트노드

    // .nodeName: 노드의 이름을 알려준다.
    console.log($infoArea.nodeName);        // DIV
    console.log($textInside.nodeName);      // #text

</script>

<hr>

<h3>2. 요소의 텍스트 조작하기 (핵심!)</h3>
<pre>
    요소 안의 텍스트를 바꾸는 데는 여러 방법이 있지만,
    우리는 가장 편리하고 안전한 <b>textContent</b> 프로퍼티에 집중할 것입니다.
    </pre>

<h4>(1) 구식 방법의 한계: `.nodeValue`</h4>
<pre>
    `.nodeValue`는 오직 '텍스트 노드'의 값만 읽고 쓸 수 있습니다.
    '요소 노드' 자체에는 텍스트 정보가 없다고 판단하여 `null`을 반환하기 때문에,
    사용하기가 매우 번거롭습니다.
    </pre>
<div id="value-area">nodeValue</div>
<script>
    const $vauleArea = document.getElementById('value-area');
    const $valueText = $vauleArea.firstChild;

    // 요소 노드 자체의 nodeValue는 null 이다.
    console.log($vauleArea.nodeValue);    // nodeValue
    console.log($valueText.nodeValue);    // 굵은 글씨

    // 텍스트를 바꾸려면 , 자식인 '텍스트 노드;를 직접 찾아가야만 한다.'
    $valueText.nodeValue = 'nodeValue로 변경 완료!'
</script>

<h4>(2) 현대적인 만능 도구: `.textContent`</h4>
<pre>
    `.textContent`는 훨씬 더 똑똑합니다.
    1. 요소 노드에 바로 사용 가능합니다.
    2. 요소 안의 모든 자손 노드들의 텍스트까지 전부 가져옵니다. (HTML 태그는 제거)
    3. 값을 할당하면, 내부의 모든 자식 노드를 지우고 새로운 텍스트로 깔끔하게 교체합니다.
    </pre>

<div id="content-area">여기는 <b>굵은</b> 글씨가 있는 영역입니다.</div>

<script>
    const $contentArea = document.getElementById('content-area');

    console.log($contentArea.textContent);

    $contentArea.textContent = 'textContent로 아주 쉽게 변경 완료! <span>태그는 무시됨</span>';
</script>

<hr>

<h3>3. 결론: 텍스트 조작은 `textContent`를 사용하세요!</h3>
<pre>
    - `.nodeValue`는 텍스트 노드를 직접 찾아가야 하는 번거로움이 있습니다.
    - `.textContent`는 요소 노드에 직접 사용하여 내부의 모든 텍스트를 쉽고 안전하게 다룰 수 있습니다.
    - (참고) `.innerText`라는 비슷한 것도 있지만, CSS 스타일의 영향을 받는 등 복잡한 규칙이 있어
        성능과 일관성을 위해 `textContent`를 사용하는 것이 현대적인 표준입니다.
    </pre>
</body>
</html>